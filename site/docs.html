<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Documenta√ß√£o - Crescent Framework | Framework Web Lua Completo</title>
    <meta name="description" content="Documenta√ß√£o completa do Crescent Framework: aprenda a usar o framework web Lua com ORM, migrations, CLI e arquitetura modular. Tutoriais, exemplos e guias.">
    <meta name="keywords" content="documenta√ß√£o lua framework, crescent framework docs, lua web framework tutorial, guia lua web, lua orm documentation, crescent lua api, framework web lua guia">
    <meta name="author" content="Crescent Framework Team">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://crescentframework.dev/docs.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://crescentframework.dev/docs.html">
    <meta property="og:title" content="Documenta√ß√£o - Crescent Framework">
    <meta property="og:description" content="Documenta√ß√£o completa do framework web Lua: ORM, migrations, CLI e muito mais.">
    <meta property="og:image" content="https://crescentframework.dev/crescent-logo-semfundo.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://crescentframework.dev/docs.html">
    <meta property="twitter:title" content="Documenta√ß√£o - Crescent Framework">
    <meta property="twitter:description" content="Documenta√ß√£o completa do framework web Lua: ORM, migrations, CLI e muito mais.">
    <meta property="twitter:image" content="https://crescentframework.dev/crescent-logo-semfundo.png">
    
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="docs.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Prism.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <div class="nav-brand">
                    <img src="./crescent-logo-semfundo.png" alt="Crescent Framework" class="logo">
                    <span class="brand-name">Crescent</span>
                </div>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#features">Features</a></li>
                    <li><a href="index.html#getting-started">Get Started</a></li>
                    <li><a href="docs.html" class="active">Documenta√ß√£o</a></li>
                    <li><a href="https://github.com/daniel-m-tfs/crescent-framework" target="_blank" class="github-link">GitHub</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="docs-container">
        <!-- Sidebar -->
        <aside class="docs-sidebar">
            <nav class="docs-nav">
                <div class="nav-section">
                    <h3>Introdu√ß√£o</h3>
                    <ul>
                        <li><a href="#intro">O que √© Crescent?</a></li>
                        <li><a href="#installation">Instala√ß√£o</a></li>
                        <li><a href="#dependencies">Depend√™ncias</a></li>
                        <li><a href="#structure">Estrutura do Projeto</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>Conceitos B√°sicos</h3>
                    <ul>
                        <li><a href="#routing">Rotas</a></li>
                        <li><a href="#controllers">Controllers</a></li>
                        <li><a href="#services">Services</a></li>
                        <li><a href="#models">Models</a></li>
                        <li><a href="#middleware">Middleware</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>CLI</h3>
                    <ul>
                        <li><a href="#cli">Introdu√ß√£o ao CLI</a></li>
                        <li><a href="#cli-make">Geradores de C√≥digo</a></li>
                        <li><a href="#cli-migrations">Migrations</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>Banco de Dados</h3>
                    <ul>
                        <li><a href="#orm">ORM ActiveRecord</a></li>
                        <li><a href="#validations">Valida√ß√µes</a></li>
                        <li><a href="#relations">Rela√ß√µes</a></li>
                        <li><a href="#migrations">Migrations</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>Configura√ß√£o</h3>
                    <ul>
                        <li><a href="#env">Vari√°veis de Ambiente</a></li>
                        <li><a href="#config">Arquivos de Config</a></li>
                        <li><a href="#scripts">Scripts Shell</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>Deploy</h3>
                    <ul>
                        <li><a href="#production">Produ√ß√£o</a></li>
                        <li><a href="#nginx">Configura√ß√£o NGINX</a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="docs-content">
            <!-- Introdu√ß√£o -->
            <section id="intro" class="doc-section">
                <h1>üåô Crescent Framework</h1>
                <p class="lead">Framework web moderno e perform√°tico constru√≠do em Lua, Luvit e MySQL.</p>
                
                <div class="highlight-box" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; margin-bottom: 2rem;">
                    <h3>üöÄ Comece Agora!</h3>
                    <p style="margin: 0.5rem 0;">Baixe o Crescent Starter e comece a desenvolver em minutos:</p>
                    <a href="https://github.com/daniel-m-tfs/crescent-framework/releases/download/Vers√µes/crescent-starter.zip" 
                       style="display: inline-block; background: white; color: #667eea; padding: 0.75rem 1.5rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; margin-top: 0.5rem;">
                        üì¶ Download crescent-starter.zip
                    </a>
                </div>
                
                <h2>O que √© Crescent?</h2>
                <p>Crescent √© um framework web completo que combina a performance do Lua/LuaJIT com uma arquitetura moderna e modular inspirada em frameworks como NestJS e Laravel. Foi projetado para criar APIs REST e aplica√ß√µes web de alto desempenho com c√≥digo limpo e organizado.</p>

                <div class="highlight-box">
                    <h3>‚ú® Principais Caracter√≠sticas</h3>
                    <ul>
                        <li><strong>Performance Excepcional:</strong> LuaJIT oferece velocidade compar√°vel a C</li>
                        <li><strong>Arquitetura Modular:</strong> Controllers, Services, Models separados</li>
                        <li><strong>ORM ActiveRecord:</strong> Trabalhe com banco de dados de forma intuitiva</li>
                        <li><strong>CLI Poderoso:</strong> Gerador de c√≥digo estilo Laravel Artisan</li>
                        <li><strong>Middlewares Prontos:</strong> Auth, CORS, Security, Logger</li>
                        <li><strong>Sistema de Migrations:</strong> Controle de vers√£o do banco</li>
                    </ul>
                </div>
            </section>

            <!-- Instala√ß√£o -->
            <section id="installation" class="doc-section">
                <h2>üì¶ Instala√ß√£o</h2>
                
                <h3>1. Baixe o Crescent Starter</h3>
                <div class="code-block">
                    <pre><code># Download via curl
curl -L https://github.com/daniel-m-tfs/crescent-framework/releases/download/Vers√µes/crescent-starter.zip -o crescent-starter.zip

# Ou baixe diretamente pelo navegador:
# https://github.com/daniel-m-tfs/crescent-framework/releases</code></pre>
                </div>

                <h3>2. Descompacte e Acesse a Pasta</h3>
                <div class="code-block">
                    <pre><code>unzip crescent-starter.zip
cd crescent-starter</code></pre>
                </div>

                <h3>3. Instale as Depend√™ncias (se necess√°rio)</h3>
                <div class="code-block">
                    <pre><code># Script automatizado que instala tudo
./install-dependencies.sh</code></pre>
                </div>

                <p>O script instalar√° (se necess√°rio):</p>
                <ul>
                    <li><strong>Luvit:</strong> Runtime Lua ass√≠ncrono</li>
                    <li><strong>LuaRocks:</strong> Gerenciador de pacotes</li>
                    <li><strong>MySQL + luasql-mysql:</strong> Banco de dados (opcional)</li>
                    <li><strong>Depend√™ncias Lua:</strong> Bibliotecas adicionais (opcional)</li>
                </ul>

                <div class="info-box">
                    <strong>üí° Dica:</strong> O script √© interativo e pergunta antes de instalar cada componente. Se voc√™ j√° tem Luvit e LuaRocks instalados, ele apenas verificar√° e continuar√°.
                </div>

                <h3>4. Inicie o Servidor</h3>
                <div class="code-block">
                    <pre><code>luvit app.lua
# Servidor rodando em http://localhost:8080</code></pre>
                </div>

                <h3>5. Configure o Ambiente (Opcional)</h3>
                <div class="code-block">
                    <pre><code>cp .env.example .env
nano .env  # Configure MySQL, porta, etc.</code></pre>
                </div>
            </section>

            <!-- Depend√™ncias -->
            <section id="dependencies" class="doc-section">
                <h2>üìö Depend√™ncias</h2>
                
                <h3>Requisitos do Sistema</h3>
                <ul>
                    <li><strong>macOS/Linux:</strong> Sistema operacional suportado</li>
                    <li><strong>MySQL 5.7+:</strong> Banco de dados</li>
                    <li><strong>NGINX (opcional):</strong> Para produ√ß√£o</li>
                </ul>

                <h3>Depend√™ncias Lua</h3>
                <div class="deps-grid">
                    <div class="dep-card">
                        <h4>Luvit</h4>
                        <p>Runtime ass√≠ncrono baseado em LuaJIT, similar ao Node.js</p>
                    </div>
                    <div class="dep-card">
                        <h4>luasql-mysql</h4>
                        <p>Driver MySQL para conex√£o com banco de dados</p>
                    </div>
                    <div class="dep-card">
                        <h4>LuaRocks</h4>
                        <p>Gerenciador de pacotes para m√≥dulos Lua</p>
                    </div>
                </div>
            </section>

            <!-- Estrutura -->
            <section id="structure" class="doc-section">
                <h2>üìÅ Estrutura do Projeto</h2>
                
                <div class="code-block">
                    <pre><code>crescent-starter/
‚îú‚îÄ‚îÄ crescent/              # Core do framework
‚îÇ   ‚îú‚îÄ‚îÄ init.lua          # Inicializa√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ server.lua        # Servidor HTTP
‚îÇ   ‚îú‚îÄ‚îÄ core/             # N√∫cleo (Router, Request, Response)
‚îÇ   ‚îú‚îÄ‚îÄ middleware/       # Middlewares padr√£o
‚îÇ   ‚îú‚îÄ‚îÄ database/         # ORM e MySQL
‚îÇ   ‚îî‚îÄ‚îÄ utils/            # Utilit√°rios
‚îú‚îÄ‚îÄ src/                  # Seu c√≥digo da aplica√ß√£o
‚îÇ   ‚îî‚îÄ‚îÄ hello/            # M√≥dulo de exemplo
‚îÇ       ‚îú‚îÄ‚îÄ controllers/  # Controladores
‚îÇ       ‚îú‚îÄ‚îÄ services/     # L√≥gica de neg√≥cio
‚îÇ       ‚îú‚îÄ‚îÄ models/       # Models do banco
‚îÇ       ‚îî‚îÄ‚îÄ routes/       # Defini√ß√£o de rotas
‚îú‚îÄ‚îÄ migrations/           # Migrations do banco
‚îú‚îÄ‚îÄ config/               # Arquivos de configura√ß√£o
‚îú‚îÄ‚îÄ bootstrap.lua         # Bootstrap da aplica√ß√£o
‚îú‚îÄ‚îÄ crescent-cli.lua      # CLI para gera√ß√£o de c√≥digo
‚îú‚îÄ‚îÄ install-dependencies.sh  # Instalador de depend√™ncias
‚îú‚îÄ‚îÄ .env.example          # Exemplo de vari√°veis de ambiente
‚îî‚îÄ‚îÄ app.lua              # Ponto de entrada</code></pre>
                </div>

                <div class="info-box">
                    <strong>üí° Dica:</strong> Use o CLI para gerar novos m√≥dulos automaticamente com <code>luvit crescent-cli.lua make:module NomeDoModulo</code>
                </div>
            </section>

            <!-- Rotas -->
            <section id="routing" class="doc-section">
                <h2>üõ£Ô∏è Rotas</h2>
                
                <p>O sistema de rotas do Crescent √© simples e poderoso, permitindo definir endpoints HTTP facilmente.</p>

                <h3>Definindo Rotas</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- src/users/routes/user.lua
local UserController = require("src.users.controllers.user")

return function(app)
    -- GET /users
    app:get("/users", UserController.index)
    
    -- GET /users/:id
    app:get("/users/:id", UserController.show)
    
    -- POST /users
    app:post("/users", UserController.create)
    
    -- PUT /users/:id
    app:put("/users/:id", UserController.update)
    
    -- DELETE /users/:id
    app:delete("/users/:id", UserController.delete)
end</code></pre>
                </div>

                <h3>Par√¢metros de Rota</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- Acesse par√¢metros via ctx.params
function UserController.show(ctx)
    local id = ctx.params.id
    -- ...
end</code></pre>
                </div>

                <h3>Query Strings</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- GET /users?active=true&limit=10
function UserController.index(ctx)
    local active = ctx.query.active
    local limit = ctx.query.limit
    -- ...
end</code></pre>
                </div>

                <h3>Middleware em Rotas</h3>
                <div class="code-block">
                    <pre><code class="language-lua">local auth = require("crescent.middleware.auth")

return function(app)
    -- Rota protegida
    app:get("/admin", auth.verify, AdminController.index)
end</code></pre>
                </div>
            </section>

            <!-- Controllers -->
            <section id="controllers" class="doc-section">
                <h2>üéÆ Controllers</h2>
                
                <p>Controllers s√£o respons√°veis por receber requisi√ß√µes HTTP e retornar respostas. Eles orquestram a l√≥gica de neg√≥cio atrav√©s dos Services.</p>

                <h3>Criando um Controller</h3>
                <div class="code-block">
                    <pre><code class="language-bash">luvit crescent-cli.lua make:controller User</code></pre>
                </div>

                <h3>Estrutura de um Controller</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- src/users/controllers/user.lua
local UserService = require("src.users.services.user")

local UserController = {}

-- GET /users
function UserController.index(ctx)
    local users = UserService.findAll()
    return ctx.json({ users = users })
end

-- GET /users/:id
function UserController.show(ctx)
    local id = ctx.params.id
    local user = UserService.findById(id)
    
    if not user then
        return ctx.status(404).json({ error = "Usu√°rio n√£o encontrado" })
    end
    
    return ctx.json({ user = user })
end

-- POST /users
function UserController.create(ctx)
    local data = ctx.body
    local user, err = UserService.create(data)
    
    if err then
        return ctx.status(400).json({ error = err })
    end
    
    return ctx.status(201).json({ user = user })
end

-- PUT /users/:id
function UserController.update(ctx)
    local id = ctx.params.id
    local data = ctx.body
    
    local user, err = UserService.update(id, data)
    
    if err then
        return ctx.status(400).json({ error = err })
    end
    
    return ctx.json({ user = user })
end

-- DELETE /users/:id
function UserController.delete(ctx)
    local id = ctx.params.id
    local success = UserService.delete(id)
    
    if not success then
        return ctx.status(404).json({ error = "Usu√°rio n√£o encontrado" })
    end
    
    return ctx.status(204).send()
end

return UserController</code></pre>
                </div>

                <h3>M√©todos de Resposta</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- JSON response
ctx.json({ data = "valor" })

-- Status code
ctx.status(404)

-- Text response
ctx.send("Hello World")

-- Headers
ctx.header("Content-Type", "application/json")

-- Redirect
ctx.redirect("/login")</code></pre>
                </div>
            </section>

            <!-- Services -->
            <section id="services" class="doc-section">
                <h2>‚öôÔ∏è Services</h2>
                
                <p>Services cont√™m a l√≥gica de neg√≥cio da aplica√ß√£o. Eles s√£o respons√°veis por processar dados, validar regras e interagir com Models.</p>

                <h3>Criando um Service</h3>
                <div class="code-block">
                    <pre><code class="language-bash">luvit crescent-cli.lua make:service User</code></pre>
                </div>

                <h3>Estrutura de um Service</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- src/users/services/user.lua
local User = require("src.users.models.user")

local UserService = {}

function UserService.findAll()
    return User:all()
end

function UserService.findById(id)
    return User:find(id)
end

function UserService.create(data)
    -- Valida√ß√£o de neg√≥cio
    if not data.email or data.email == "" then
        return nil, "Email √© obrigat√≥rio"
    end
    
    -- Verifica se email j√° existe
    local existing = User:where("email", data.email):first()
    if existing then
        return nil, "Email j√° cadastrado"
    end
    
    -- Cria usu√°rio
    local user = User:create(data)
    return user
end

function UserService.update(id, data)
    local user = User:find(id)
    if not user then
        return nil, "Usu√°rio n√£o encontrado"
    end
    
    user:update(data)
    return user
end

function UserService.delete(id)
    local user = User:find(id)
    if not user then
        return false
    end
    
    user:delete()
    return true
end

return UserService</code></pre>
                </div>

                <div class="info-box">
                    <strong>üí° Melhor Pr√°tica:</strong> Mantenha Controllers magros e Services gordos. A l√≥gica de neg√≥cio deve estar nos Services, n√£o nos Controllers.
                </div>
            </section>

            <!-- Models -->
            <section id="models" class="doc-section">
                <h2>üíæ Models</h2>
                
                <p>Models representam as entidades do banco de dados e herdam do ORM ActiveRecord.</p>

                <h3>Criando um Model</h3>
                <div class="code-block">
                    <pre><code class="language-bash">luvit crescent-cli.lua make:model User</code></pre>
                </div>

                <h3>Estrutura de um Model</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- src/users/models/user.lua
local Model = require("crescent.database.model")

local User = Model:extend({
    table = "users",
    
    -- Campos que podem ser preenchidos em massa
    fillable = {
        "name",
        "email",
        "password"
    },
    
    -- Campos ocultos (n√£o aparecem em toTable())
    hidden = {
        "password"
    },
    
    -- Valida√ß√µes
    validations = {
        name = { "required", "min_length:3" },
        email = { "required", "email", "unique:users,email" },
        password = { "required", "min_length:6" }
    },
    
    -- Timestamps autom√°ticos
    timestamps = true
})

return User</code></pre>
                </div>
            </section>

            <!-- ORM -->
            <section id="orm" class="doc-section">
                <h2>üóÑÔ∏è ORM ActiveRecord</h2>
                
                <p>O Crescent inclui um ORM ActiveRecord completo inspirado no Laravel Eloquent.</p>

                <h3>Opera√ß√µes B√°sicas</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- Buscar todos
local users = User:all()

-- Buscar por ID
local user = User:find(1)

-- Criar
local user = User:create({
    name = "Jo√£o",
    email = "joao@example.com"
})

-- Atualizar
user:update({ name = "Jo√£o Silva" })

-- Deletar
user:delete()

-- Salvar (insert ou update)
user.name = "Novo Nome"
user:save()</code></pre>
                </div>

                <h3>Query Builder</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- WHERE
User:where("active", true):all()

-- WHERE com operadores
User:where("age", ">", 18):all()

-- ORDER BY
User:orderBy("created_at", "desc"):all()

-- LIMIT
User:limit(10):all()

-- SELECT espec√≠fico
User:select("id", "name", "email"):all()

-- Primeiro resultado
local user = User:where("email", "test@example.com"):first()

-- Contar
local count = User:where("active", true):count()</code></pre>
                </div>

                <h3>Timestamps Autom√°ticos</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- Com timestamps = true, o ORM gerencia automaticamente:
-- created_at - definido no insert
-- updated_at - atualizado a cada save/update</code></pre>
                </div>
            </section>

            <!-- Valida√ß√µes -->
            <section id="validations" class="doc-section">
                <h2>‚úÖ Valida√ß√µes</h2>
                
                <p>O ORM inclui sistema de valida√ß√£o integrado.</p>

                <h3>Valida√ß√µes Dispon√≠veis</h3>
                <div class="code-block">
                    <pre><code class="language-lua">validations = {
    -- Campo obrigat√≥rio
    name = { "required" },
    
    -- Tamanho m√≠nimo
    password = { "min_length:6" },
    
    -- Tamanho m√°ximo
    bio = { "max_length:500" },
    
    -- Email v√°lido
    email = { "email" },
    
    -- Valor √∫nico no banco
    email = { "unique:users,email" },
    
    -- M√∫ltiplas valida√ß√µes
    name = { "required", "min_length:3", "max_length:100" }
}</code></pre>
                </div>

                <h3>Valida√ß√£o Manual</h3>
                <div class="code-block">
                    <pre><code class="language-lua">local user = User:new({ name = "A" })
local valid, errors = user:validate()

if not valid then
    for field, error in pairs(errors) do
        print(field .. ": " .. error)
    end
end</code></pre>
                </div>
            </section>

            <!-- Rela√ß√µes -->
            <section id="relations" class="doc-section">
                <h2>üîó Rela√ß√µes</h2>
                
                <p>Defina rela√ß√µes entre models facilmente.</p>

                <h3>Has Many</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- User tem muitos Posts
local User = Model:extend({
    table = "users"
})

function User:posts()
    return self:hasMany(Post, "user_id")
end

-- Uso
local user = User:find(1)
local posts = user:posts()</code></pre>
                </div>

                <h3>Belongs To</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- Post pertence a um User
local Post = Model:extend({
    table = "posts"
})

function Post:user()
    return self:belongsTo(User, "user_id")
end

-- Uso
local post = Post:find(1)
local user = post:user()</code></pre>
                </div>

                <h3>Has One</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- User tem um Profile
function User:profile()
    return self:hasOne(Profile, "user_id")
end</code></pre>
                </div>
            </section>

            <!-- CLI -->
            <section id="cli" class="doc-section">
                <h2>üî® CLI - Command Line Interface</h2>
                
                <p>O Crescent CLI √© uma ferramenta poderosa para gerar c√≥digo e gerenciar seu projeto.</p>

                <h3>Comandos Dispon√≠veis</h3>
                <div class="code-block">
                    <pre><code class="language-bash"># Ver todos os comandos
luvit crescent-cli.lua

# Criar controller
luvit crescent-cli.lua make:controller User

# Criar service
luvit crescent-cli.lua make:service User

# Criar model
luvit crescent-cli.lua make:model User

# Criar rotas
luvit crescent-cli.lua make:routes User

# Criar m√≥dulo completo (Controller + Service + Model + Routes)
luvit crescent-cli.lua make:module User

# Criar migration
luvit crescent-cli.lua make:migration create_users_table</code></pre>
                </div>
            </section>

            <!-- CLI Make -->
            <section id="cli-make" class="doc-section">
                <h2>üé® Geradores de C√≥digo</h2>
                
                <h3>Make Module</h3>
                <p>Gera um m√≥dulo completo com CRUD:</p>
                <div class="code-block">
                    <pre><code class="language-bash">luvit crescent-cli.lua make:module Product</code></pre>
                </div>
                <p>Cria automaticamente:</p>
                <ul>
                    <li>Controller com m√©todos index, show, create, update, delete</li>
                    <li>Service com l√≥gica de neg√≥cio</li>
                    <li>Model com configura√ß√£o b√°sica</li>
                    <li>Routes com endpoints REST</li>
                </ul>

                <h3>Make Controller</h3>
                <div class="code-block">
                    <pre><code class="language-bash"># Controller em m√≥dulo padr√£o
luvit crescent-cli.lua make:controller Product

# Controller em m√≥dulo espec√≠fico
luvit crescent-cli.lua make:controller Product inventory</code></pre>
                </div>

                <h3>Make Service</h3>
                <div class="code-block">
                    <pre><code class="language-bash">luvit crescent-cli.lua make:service Product</code></pre>
                </div>

                <h3>Make Model</h3>
                <div class="code-block">
                    <pre><code class="language-bash">luvit crescent-cli.lua make:model Product</code></pre>
                </div>
            </section>

            <!-- Migrations CLI -->
            <section id="cli-migrations" class="doc-section">
                <h2>üìã Comandos de Migration</h2>
                
                <h3>Criar Migration</h3>
                <div class="code-block">
                    <pre><code class="language-bash"># O nome da tabela √© extra√≠do automaticamente
luvit crescent-cli.lua make:migration create_products_table
luvit crescent-cli.lua make:migration create_users_table
luvit crescent-cli.lua make:migration add_column_to_users</code></pre>
                </div>

                <h3>Executar Migrations</h3>
                <div class="code-block">
                    <pre><code class="language-bash"># Executa todas as migrations pendentes
luvit crescent-cli.lua migrate</code></pre>
                </div>

                <h3>Rollback</h3>
                <div class="code-block">
                    <pre><code class="language-bash"># Desfaz o √∫ltimo batch de migrations
luvit crescent-cli.lua migrate:rollback</code></pre>
                </div>

                <h3>Status</h3>
                <div class="code-block">
                    <pre><code class="language-bash"># Mostra quais migrations foram executadas
luvit crescent-cli.lua migrate:status</code></pre>
                </div>
            </section>

            <!-- Migrations -->
            <section id="migrations" class="doc-section">
                <h2>üîÑ Sistema de Migrations</h2>
                
                <p>Migrations s√£o uma forma de versionar as mudan√ßas no banco de dados.</p>

                <h3>Estrutura de uma Migration</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- migrations/20260106123456_create_products_table.lua
local Migration = {}

-- M√©todo up: aplica a migration
function Migration:up()
    return [[
        CREATE TABLE IF NOT EXISTS products (
            id INT AUTO_INCREMENT PRIMARY KEY,
            name VARCHAR(255) NOT NULL,
            description TEXT,
            price DECIMAL(10,2) NOT NULL,
            stock INT DEFAULT 0,
            active BOOLEAN DEFAULT true,
            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
            updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
            INDEX idx_name (name),
            INDEX idx_active (active)
        ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
    ]]
end

-- M√©todo down: desfaz a migration
function Migration:down()
    return [[
        DROP TABLE IF EXISTS products;
    ]]
end

return Migration</code></pre>
                </div>

                <h3>Padr√µes de Nome</h3>
                <ul>
                    <li><code>create_xxx_table</code> - Cria tabela xxx</li>
                    <li><code>add_column_to_xxx</code> - Adiciona coluna na tabela xxx</li>
                    <li><code>drop_xxx_table</code> - Remove tabela xxx</li>
                    <li><code>update_xxx_table</code> - Modifica tabela xxx</li>
                </ul>

                <div class="info-box">
                    <strong>üí° Dica:</strong> O CLI extrai automaticamente o nome da tabela do nome da migration!
                </div>
            </section>

            <!-- Middleware -->
            <section id="middleware" class="doc-section">
                <h2>üîå Middleware</h2>
                
                <p>Middlewares s√£o fun√ß√µes que processam requisi√ß√µes antes de chegarem aos controllers.</p>

                <h3>Middlewares Dispon√≠veis</h3>
                
                <h4>Logger</h4>
                <div class="code-block">
                    <pre><code class="language-lua">local logger = require("crescent.middleware.logger")
app:use(logger)</code></pre>
                </div>

                <h4>CORS</h4>
                <div class="code-block">
                    <pre><code class="language-lua">local cors = require("crescent.middleware.cors")
app:use(cors({
    origin = "*",
    methods = "GET,POST,PUT,DELETE",
    headers = "Content-Type,Authorization"
}))</code></pre>
                </div>

                <h4>Security</h4>
                <div class="code-block">
                    <pre><code class="language-lua">local security = require("crescent.middleware.security")
app:use(security)</code></pre>
                </div>

                <h4>Auth</h4>
                <div class="code-block">
                    <pre><code class="language-lua">local auth = require("crescent.middleware.auth")

-- Proteger rota espec√≠fica
app:get("/admin", auth.verify, AdminController.index)</code></pre>
                </div>

                <h3>Criando Middleware Customizado</h3>
                <div class="code-block">
                    <pre><code class="language-lua">-- middleware/custom.lua
local function myMiddleware(ctx, next)
    -- C√≥digo antes do controller
    print("Antes da requisi√ß√£o")
    
    -- Chama pr√≥ximo middleware/controller
    next()
    
    -- C√≥digo depois do controller
    print("Depois da requisi√ß√£o")
end

return myMiddleware</code></pre>
                </div>
            </section>

            <!-- Env -->
            <section id="env" class="doc-section">
                <h2>üîê Vari√°veis de Ambiente</h2>
                
                <p>Configure sua aplica√ß√£o usando arquivo .env</p>

                <h3>Arquivo .env</h3>
                <div class="code-block">
                    <pre><code class="language-bash"># Servidor
APP_HOST=0.0.0.0
APP_PORT=8080
APP_ENV=development

# Database
DB_HOST=localhost
DB_PORT=3306
DB_NAME=crescent_db
DB_USER=root
DB_PASSWORD=senha

# Seguran√ßa
JWT_SECRET=seu_secret_aqui
API_KEY=sua_api_key_aqui</code></pre>
                </div>

                <h3>Acessando Vari√°veis</h3>
                <div class="code-block">
                    <pre><code class="language-lua">local env = require("crescent.utils.env")

local port = env.get("APP_PORT", "8080")  -- com default
local dbHost = env.get("DB_HOST")</code></pre>
                </div>
            </section>

            <!-- Config -->
            <section id="config" class="doc-section">
                <h2>‚öôÔ∏è Arquivos de Configura√ß√£o</h2>
                
                <p>Configura√ß√µes espec√≠ficas por ambiente.</p>

                <h3>config/development.lua</h3>
                <div class="code-block">
                    <pre><code class="language-lua">return {
    database = {
        host = "localhost",
        port = 3306,
        name = "crescent_dev",
        user = "root",
        password = ""
    },
    server = {
        port = 8080,
        host = "localhost"
    },
    debug = true
}</code></pre>
                </div>

                <h3>config/production.lua</h3>
                <div class="code-block">
                    <pre><code class="language-lua">return {
    database = {
        host = os.getenv("DB_HOST"),
        port = tonumber(os.getenv("DB_PORT")),
        name = os.getenv("DB_NAME"),
        user = os.getenv("DB_USER"),
        password = os.getenv("DB_PASSWORD")
    },
    server = {
        port = tonumber(os.getenv("APP_PORT")),
        host = os.getenv("APP_HOST")
    },
    debug = false
}</code></pre>
                </div>
            </section>

            <!-- Scripts -->
            <section id="scripts" class="doc-section">
                <h2>üìú Scripts Dispon√≠veis</h2>
                
                <p>Scripts inclu√≠dos no Crescent Starter para facilitar o desenvolvimento.</p>

                <h3>install-dependencies.sh</h3>
                <p>Instala todas as depend√™ncias necess√°rias automaticamente (Luvit, LuaRocks, MySQL opcional)</p>
                <div class="code-block">
                    <pre><code class="language-bash">./install-dependencies.sh</code></pre>
                </div>

                <h3>deploy.example.sh</h3>
                <p>Template de exemplo para deploy autom√°tico em produ√ß√£o. Copie e customize para seu ambiente:</p>
                <div class="code-block">
                    <pre><code class="language-bash"># Copie e customize
cp deploy.example.sh deploy.sh
nano deploy.sh
chmod +x deploy.sh

# Execute o deploy
./deploy.sh</code></pre>
                </div>

                <div class="info-box">
                    <strong>üí° Nota:</strong> Para iniciar o servidor, use <code>luvit app.lua</code> diretamente. Para desenvolvimento, voc√™ pode usar ferramentas como <code>nodemon</code> ou <code>entr</code> para hot reload.
                </div>
            </section>

            <!-- Production -->
            <section id="production" class="doc-section">
                <h2>üöÄ Deploy em Produ√ß√£o</h2>
                
                <h3>Preparando para Produ√ß√£o</h3>
                <ol>
                    <li><strong>Configure o .env</strong>
                        <div class="code-block">
                            <pre><code>APP_ENV=production
APP_HOST=0.0.0.0
APP_PORT=8080</code></pre>
                        </div>
                    </li>
                    <li><strong>Execute as migrations</strong>
                        <div class="code-block">
                            <pre><code>luvit crescent-cli.lua migrate</code></pre>
                        </div>
                    </li>
                    <li><strong>Configure o NGINX</strong> (ver se√ß√£o abaixo)</li>
                    <li><strong>Inicie o servidor</strong>
                        <div class="code-block">
                            <pre><code># Via systemd (recomendado)
sudo systemctl start crescent

# Ou manualmente
luvit app.lua</code></pre>
                        </div>
                    </li>
                </ol>

                <h3>Systemd Service</h3>
                <p>Use o arquivo de servi√ßo inclu√≠do:</p>
                <div class="code-block">
                    <pre><code class="language-bash">sudo cp config/crescent.service /etc/systemd/system/
sudo systemctl enable crescent
sudo systemctl start crescent</code></pre>
                </div>
            </section>

            <!-- NGINX -->
            <section id="nginx" class="doc-section">
                <h2>üåê Configura√ß√£o NGINX</h2>
                
                <p>Use NGINX como proxy reverso para produ√ß√£o.</p>

                <h3>Arquivo de Configura√ß√£o</h3>
                <div class="code-block">
                    <pre><code class="language-nginx">upstream crescent_app {
    server 127.0.0.1:8080;
}

server {
    listen 80;
    server_name seu-dominio.com;

    location / {
        proxy_pass http://crescent_app;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}</code></pre>
                </div>

                <h3>Instalando e Ativando</h3>
                <div class="code-block">
                    <pre><code class="language-bash"># Copiar configura√ß√£o
sudo cp config/nginx.conf /etc/nginx/sites-available/crescent

# Criar link simb√≥lico
sudo ln -s /etc/nginx/sites-available/crescent /etc/nginx/sites-enabled/

# Testar configura√ß√£o
sudo nginx -t

# Recarregar NGINX
sudo systemctl reload nginx</code></pre>
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Aten√ß√£o:</strong> N√£o esque√ßa de configurar SSL/TLS para produ√ß√£o usando Let's Encrypt ou similar.
                </div>
            </section>

            <!-- Final Section -->
            <section class="doc-section">
                <div class="cta-docs">
                    <h2>Pronto para Come√ßar?</h2>
                    <p>Clone o reposit√≥rio e comece a construir sua aplica√ß√£o agora!</p>
                    <div class="cta-buttons">
                        <a href="https://github.com/daniel-m-tfs/crescent-framework" target="_blank" class="btn btn-primary btn-large">
                            Ver no GitHub
                        </a>
                        <a href="index.html#getting-started" class="btn btn-secondary btn-large">
                            Guia R√°pido
                        </a>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2026 Crescent Framework. MIT License.</p>
            </div>
        </div>
    </footer>

    <!-- Prism.js for syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-nginx.min.js"></script>
    <script src="docs.js"></script>
</body>
</html>
